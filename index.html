<!DOCTYPE html>
<html lang="en">
   <head>
      <title>Bayesian Knowledge Tracing</title>
      <meta charset="utf-8">
      <link rel="stylesheet" type="text/css" href="style.css">
      <link href="https://fonts.googleapis.com/css?family=Karla|Archivo|Open+Sans|Roboto|Playfair+Display|Montserrat&display=swap" rel="stylesheet">
   </head>
   <body onkeydown="move(event)">
      <!-- pop-up for mastery -->
      <div id="myModal" class="modal">
         <div class="modal-content">
            <span class="close">&times;</span>
            <p>Mastery achieved!</p>
         </div>
      </div>

      <div class="intro">
        <center><h1>Introduction to Bayesian Knowledge Tracing</h1></center>
      <center><div class="description">
          <h4>
            <b>Bayesian Knowledge Tracing</b>, or <b>BKT</b>, is an artificial intelligence
            algorithm that lets us infer a student's current knowledge state to
            predict if they have learned a skill.
            <br /><br />
            There are four parameters involved in BKT (each with a value between 0 and 1, inclusive):
            <ul>
              <li>
                <b style="color:#A98666">P(known):</b>
                the probability that the student already knew a skill.
              </li>
              <li>
                <b style="color:#A57380">P(will learn):</b>
                the probability that the student will learn a skill on the next practice opportunity.
              </li>
              <li>
                <b style="color:#736C9B">P(slip):</b>
                the probability that the student will answer incorrectly despite knowing a skill.
              </li>
              <li>
                <b style="color:#7499AD">P(guess):</b>
                the probability that the student will answer correctly despite not knowing a skill.
              </li>
            </ul>
            Every time the student answers a question, our BKT algorithm calculates
            <b>P(learned)</b>, the probability that the student has learned the skill
            they are working on, using the values of these parameters.
            The formula for <b>P(learned)</b> depends on whether their response was correct.
            <input type="button" class="more" value="See the math" onclick="showMore(this, more1)" />
            <div class="extra" id="more1">
               <br />
               First, we compute the conditional probability that the student
               learned the skill previously (at time <i>n-1</i>), based on whether
               they answered the current question (at time <i>n</i>) correctly or incorrectly.
               <br />
               <img class="formula" src="images/right-formula.png">
               <br />
               <img class="formula" src="images/wrong-formula.png">
               <br /><br />
               Then, we use the result of our first calculation to compute the
               conditional probability that the student has learned the skill now
               (at time <i>n</i>).
               <br />
               <img class="formula" src="images/p-learned.png" style="width:820px;margin-bottom:-20px;">
            </div>
            <br /><br />
            For the next question, we use <b>P(learned)</b> as the new value of <b>P(known)</b>.
            Once <b>P(known)</b> ≥ 0.95, we say the user has achieved
            <b><i style="color:#A98666">m</i>
            <i style="color:#A57380">a</i>
            <i style="color:#736C9B">s</i>
            <i style="color:#7499AD">t</i>
            <i style="color:#736C9B">e</i>
            <i style="color:#A57380">r</i>
            <i style="color:#A98666">y</i></b>.
            <br /><br />
            Now that you’ve had a chance to learn about the four parameters,
            here’s a tool that can help you explore the relationships between them
            and how exactly each influences the probability calculations underlying BKT.
          </h4>
          <br />
          <!-- <img class="begin" src="images/begin.png"> -->
          <h2>Let's begin!</h2>
          <a href="#header"><img class="arrow" src="images/down-arrow.png"></a>
        </div></center>
      </div>

      <div class="info">
         <div class="header" id="header">
            <h1 style="margin-bottom:0;">BKT Probability Simulator</h1>
            <h4 style="margin-top:25px">
               Drag the sliders to adjust the parameters and change the value of <b>P(learned)</b>.
            </h4>
         </div>

         <!-- sliders -->
         <div class="slidecontainer">
            <input type="button" class="reset" id="res" value="Reset" onclick="reset()" />

            <!-- init -->
            <h3>P(known): <span id="demoI"></span></h3>
            <input type="range" min="0.0" max="1.0" value="0.5" step="0.01" class="slider"
                   style="background-image: linear-gradient(to right, #f0c297, #fccfcf)" id="init" oninput="updateI(this.value)" />

            <!-- trans -->
            <h3>P(will learn): <span id="demoT"></span></h3>
            <input type="range" min="0.0" max="1.0" value="0.5" step="0.01" class="slider"
                   style="background-image: linear-gradient(to right, #f2b3c3, #e0d1e8)" id="trans" oninput="updateT(this.value)" />

            <!-- slip -->
            <h3>P(slip): <span id="demoS"></span></h3>
            <input type="range" min="0.0" max="1.0" value="0.5" step="0.01" class="slider"
                   style="background-image: linear-gradient(to right, #d3cef2, #c2dff0)" id="slip" oninput="updateS(this.value)" />

            <!-- guess -->
            <h3>P(guess): <span id="demoG"></span></h3>
            <input type="range" min="0.0" max="1.0" value="0.5" step="0.01" class="slider" id="guess" oninput="updateG(this.value)"
                   style="margin-bottom:20px;" />

            <!-- probabilities -->
            <h4 style="padding-bottom:0;">
               Remember, <b>P(learned)</b> depends on whether the student answers correctly
               and this probability becomes the new value for <b>P(known)</b>.
               Simulate student responses by choosing an answer button below.
            </h4>

            <!-- P(learned if correct) -->
            <h3 style="margin-bottom:0">P(learned if correct): <span id="correct"></span></h3>
            <input type="button" class="button" style="position:relative;margin-top:10px;margin-bottom:10px;width:280px"
                   id="learned1" value="Answer Correct" onclick="changeP(correct, init)" />

            <!-- P(learned if wrong) -->
            <h3 style="margin-bottom:0">P(learned if wrong): <span id="wrong"></span></h3>
            <input type="button" class="button" style="position:relative;margin-top:10px;width:280px;"
                   id="learned2" value="Answer Wrong" onclick="changeP(wrong, init)" />
         </div>
      </div>

      <!-- game components -->
      <div class="game" id="game">
         <div class="cloud" id="cloud1"></div>
         <div class="cloud" id="cloud2" style="float:right;top:350px;"></div>
         <div class="cloud" id="cloud3" style="top:500px"></div>
         <div class="cloud" id="cloud4" style="float:right;top:-150px"></div>
         <div class="balloon" id="balloon"></div>
         <div class="lightwaves" id="lightwaves"></div>
         <div class="darkwaves" id="darkwaves"></div>
      </div>

      <script type="text/javascript" src="balloon.js"></script>
   </body>
</html>
